{"ast":null,"code":"import api from \"../../services/api\";\nimport { showMessage } from 'react-native-flash-message';\nimport { login, logout, isadmin } from \"../auth\";\nimport { addRestaurants } from \"../restaurants\";\nexport var authLogin = function authLogin(usuario) {\n  return function (dispatch) {\n    api.post('/Usuario/Login/', usuario).then(function (res) {\n      if (res.data.visibilidade) {\n        if (res.data.login === 'admin') isadmin;\n        dispatch(login());\n        showMessage({\n          message: 'Bem-vindo',\n          description: 'Você pode adicionar consultar nossos resturantes!',\n          type: 'success'\n        });\n      }\n    }).catch(function (error) {\n      var message = error.response.data.message;\n      showMessage({\n        message: 'OPS!',\n        description: message,\n        type: 'danger'\n      });\n    });\n  };\n};\nexport var signUp = function signUp(usuario) {\n  return function (dispatch) {\n    api.post('/Usuario/', usuario).then(function (res) {\n      if (res.data.login) {\n        dispatch(login());\n        showMessage({\n          message: 'Wow',\n          description: 'Usuario criado com sucesso',\n          type: 'success'\n        });\n      }\n    }).catch(function (error) {\n      var message = error.response.data.message;\n      showMessage({\n        message: 'OPS!',\n        description: message,\n        type: 'danger'\n      });\n    });\n  };\n};\nexport var authLogout = function authLogout() {\n  return function (dispatch) {\n    dispatch(logout());\n  };\n};\nexport var allRestaurants = function allRestaurants() {\n  console.log('Action OK');\n  return function (dispatch) {\n    api.get('/Restaurante').then(function (res) {\n      dispatch(addRestaurants(res.data));\n    }).catch(console.log);\n  };\n};","map":{"version":3,"sources":["C:/Users/Morine/source/SmartFood-1/src/store/fetchActions/index.js"],"names":["api","showMessage","login","logout","isadmin","addRestaurants","authLogin","usuario","dispatch","post","then","res","data","visibilidade","message","description","type","catch","error","response","signUp","authLogout","allRestaurants","console","log","get"],"mappings":"AAAA,OAAOA,GAAP;AACA,SAASC,WAAT,QAA4B,4BAA5B;AAEA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,OAAxB;AACA,SAASC,cAAT;AAEA,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,OAAD,EAAa;AAElC,SAAO,UAACC,QAAD,EAAc;AACvBR,IAAAA,GAAG,CACDS,IADF,CACO,iBADP,EAC0BF,OAD1B,EAEWG,IAFX,CAEgB,UAACC,GAAD,EAAS;AACvB,UAAIA,GAAG,CAACC,IAAJ,CAASC,YAAb,EAA2B;AAC1B,YAAGF,GAAG,CAACC,IAAJ,CAASV,KAAT,KAAmB,OAAtB,EACAE,OAAO;AACPI,QAAAA,QAAQ,CAACN,KAAK,EAAN,CAAR;AACAD,QAAAA,WAAW,CAAC;AACXa,UAAAA,OAAO,EAAE,WADE;AAEXC,UAAAA,WAAW,EAAE,mDAFF;AAGXC,UAAAA,IAAI,EAAE;AAHK,SAAD,CAAX;AAKA;AACD,KAbF,EAcEC,KAdF,CAcQ,UAACC,KAAD,EAAW;AACjB,UAAQJ,OAAR,GAAoBI,KAAK,CAACC,QAAN,CAAeP,IAAnC,CAAQE,OAAR;AACAb,MAAAA,WAAW,CAAC;AACXa,QAAAA,OAAO,EAAE,MADE;AAEXC,QAAAA,WAAW,EAAED,OAFF;AAGXE,QAAAA,IAAI,EAAE;AAHK,OAAD,CAAX;AAKA,KArBF;AAsBA,GAvBE;AAwBH,CA1BM;AA4BP,OAAO,IAAMI,MAAM,GAAG,SAATA,MAAS,CAACb,OAAD,EAAa;AAE/B,SAAO,UAACC,QAAD,EAAc;AACvBR,IAAAA,GAAG,CACDS,IADF,CACO,WADP,EACoBF,OADpB,EAEWG,IAFX,CAEgB,UAACC,GAAD,EAAS;AACvB,UAAIA,GAAG,CAACC,IAAJ,CAASV,KAAb,EAAoB;AACnBM,QAAAA,QAAQ,CAACN,KAAK,EAAN,CAAR;AACAD,QAAAA,WAAW,CAAC;AACXa,UAAAA,OAAO,EAAE,KADE;AAEXC,UAAAA,WAAW,EAAE,4BAFF;AAGXC,UAAAA,IAAI,EAAE;AAHK,SAAD,CAAX;AAKA;AACD,KAXF,EAYEC,KAZF,CAYQ,UAACC,KAAD,EAAW;AACjB,UAAQJ,OAAR,GAAoBI,KAAK,CAACC,QAAN,CAAeP,IAAnC,CAAQE,OAAR;AACAb,MAAAA,WAAW,CAAC;AACXa,QAAAA,OAAO,EAAE,MADE;AAEXC,QAAAA,WAAW,EAAED,OAFF;AAGXE,QAAAA,IAAI,EAAE;AAHK,OAAD,CAAX;AAKA,KAnBF;AAoBA,GArBE;AAsBH,CAxBM;AA0BP,OAAO,IAAMK,UAAU,GAAG,SAAbA,UAAa,GAAM;AAC/B,SAAO,UAACb,QAAD,EAAc;AACjBA,IAAAA,QAAQ,CAACL,MAAM,EAAP,CAAR;AACH,GAFD;AAGA,CAJM;AAMP,OAAO,IAAMmB,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AACnCC,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA,SAAO,UAAChB,QAAD,EAAc;AACpBR,IAAAA,GAAG,CAACyB,GAAJ,CAAQ,cAAR,EACCf,IADD,CACM,UAACC,GAAD,EAAS;AACdH,MAAAA,QAAQ,CAACH,cAAc,CAACM,GAAG,CAACC,IAAL,CAAf,CAAR;AACA,KAHD,EAICK,KAJD,CAIOM,OAAO,CAACC,GAJf;AAKA,GAND;AAOA,CATM","sourcesContent":["import api from '../../services/api';\r\nimport { showMessage } from 'react-native-flash-message';\r\n\r\nimport { login, logout, isadmin } from '../auth';\r\nimport { addRestaurants } from '../restaurants'\r\n\r\nexport const authLogin = (usuario) => {\r\n\r\n    return (dispatch) => {\r\n\t\tapi\r\n\t\t\t.post('/Usuario/Login/', usuario)\r\n            .then((res) => {\r\n\t\t\t\tif (res.data.visibilidade) {\r\n\t\t\t\t\tif(res.data.login === 'admin')\r\n\t\t\t\t\tisadmin\r\n\t\t\t\t\tdispatch(login());\r\n\t\t\t\t\tshowMessage({\r\n\t\t\t\t\t\tmessage: 'Bem-vindo',\r\n\t\t\t\t\t\tdescription: 'Você pode adicionar consultar nossos resturantes!',\r\n\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconst { message } = error.response.data;\r\n\t\t\t\tshowMessage({\r\n\t\t\t\t\tmessage: 'OPS!',\r\n\t\t\t\t\tdescription: message,\r\n\t\t\t\t\ttype: 'danger'\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n};\r\n\r\nexport const signUp = (usuario) => {\r\n\r\n    return (dispatch) => {\r\n\t\tapi\r\n\t\t\t.post('/Usuario/', usuario)\r\n            .then((res) => {\r\n\t\t\t\tif (res.data.login) {\r\n\t\t\t\t\tdispatch(login());\r\n\t\t\t\t\tshowMessage({\r\n\t\t\t\t\t\tmessage: 'Wow',\r\n\t\t\t\t\t\tdescription: 'Usuario criado com sucesso',\r\n\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconst { message } = error.response.data;\r\n\t\t\t\tshowMessage({\r\n\t\t\t\t\tmessage: 'OPS!',\r\n\t\t\t\t\tdescription: message,\r\n\t\t\t\t\ttype: 'danger'\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n};\r\n\r\nexport const authLogout = () => {\r\n\treturn (dispatch) => {\r\n    \tdispatch(logout())\r\n\t};\r\n};\r\n\r\nexport const allRestaurants = () => {\r\n\tconsole.log('Action OK')\r\n\treturn (dispatch) => {\r\n\t\tapi.get('/Restaurante')\r\n\t\t.then((res) => { \r\n\t\t\tdispatch(addRestaurants(res.data));\r\n\t\t})\r\n\t\t.catch(console.log);\r\n\t};\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}